---
title: "Workflow Patterns"
description: "Learn the common workflow patterns and when to use each execution style."
sidebarTitle: "Workflow Patterns"
---

**Workflows take many shapes. Here's how to choose.**

## At a Glance

<CardGroup cols={4}>
  <Card title="Interactive" icon="hand" href="#interactive">
    You control every step
  </Card>
  <Card title="Autonomous" icon="robot" href="#autonomous">
    Controller runs agents
  </Card>
  <Card title="Continuous" icon="forward" href="#continuous">
    Zero interaction
  </Card>
  <Card title="Hybrid" icon="shuffle" href="#hybrid">
    Mix both styles
  </Card>
</CardGroup>

---

## Interactive

You respond at every step. Each agent asks questions, gathers insights, and produces output for the next agent. Press enter to proceed and inject the next prompt.

<Accordion title="When to use" icon="check" defaultOpen>
  - Tasks need human judgment at each stage
  - You want full control over direction
  - Multiple perspectives improve the outcome
</Accordion>

**Example: Technical Design Review**

<Steps>
  <Step title="Architect">
    Asks you about requirements, constraints, and tradeoffs.

    <Card title="Input" icon="file-import">
      User Answers + Project context
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Deep-dive analysis through Q&A → User → Complete system architecture design
    </Card>
    <Card title="Output" icon="file-export">
      `architecture.md` = `{architecture}`
    </Card>
  </Step>
  <Step title="User">
    Review the architecture analysis. Answer follow-up questions.
  </Step>
  <Step title="Security Expert">
    Asks you about security concerns and compliance needs.

    <Card title="Input" icon="file-import">
      `{architecture}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Threat modeling and attack surface analysis → User → Security controls and mitigation strategy
    </Card>
    <Card title="Output" icon="file-export">
      `security-review.md` = `{security_review}`
    </Card>
  </Step>
  <Step title="User">
    Review the security assessment. Answer follow-up questions.
  </Step>
  <Step title="Senior Engineer">
    Asks you about implementation preferences and team constraints.

    <Card title="Input" icon="file-import">
      `{architecture}` + `{security_review}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Feasibility analysis → User → Final design incorporating all feedback
    </Card>
    <Card title="Output" icon="file-export">
      `final-design.md`
    </Card>
  </Step>
  <Step title="User">
    Review the final design. Confirm everything looks good or request changes.
  </Step>
</Steps>

---

## Autonomous

<Warning>
  This mode is in beta. Behavior may change as we refine controller-agent coordination.
</Warning>

**Controller agent runs agents on your behalf.**

You brief the controller agent with your objective and workflow structure. It manages the agents, makes decisions between steps. You review the results instead of managing the process.

<Accordion title="When to use" icon="check" defaultOpen>
  - You have a clear objective but don't need to control every decision
  - The task is too long to babysit
  - You want to review results, not manage the process
</Accordion>

**Prefixes:**

Both controller and step agents see input prefixes: `{USER (username):}` or `{agent_name:}`. You have full control to talk to either at any time.

<Accordion title="You can pause anytime to" icon="pause" defaultOpen>
  - Talk to controller agent — give more instructions about the project
  - Talk to step agent — give direct instructions for that step
</Accordion>

<Note>
  You must brief the controller about the full workflow: what agents it will talk to and what output is expected from each. This keeps it on track. Autonomous is the hardest mode to control, but powerful for long objectives when managed correctly.

  Both step agents and controller agent must be configured to use the signals MCP. Step agents propose proceeding to the next step, and the controller accepts or rejects. This replaces user interaction.
</Note>

**Example: Greenfield Project Build**

<Steps>
  <Step title="User → Controller">
    Brief the controller with your project idea, constraints, goals, and the full workflow structure.
  </Step>
  <Step title="PM">
    Refines requirements and creates product specification.

    <Card title="Input" icon="file-import">
      Controller's project brief + Constraints
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Requirements gathering → Controller → Product specification
    </Card>
    <Card title="Output" icon="file-export">
      `prd.md` = `{prd}`
    </Card>
  </Step>
  <Step title="Controller">
    Reviews PRD. Proceeds or adjusts.
  </Step>
  <Step title="Architect">
    Designs system architecture based on requirements.

    <Card title="Input" icon="file-import">
      `{prd}` + Controller's Instructions
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      System design → Controller → Architecture decisions
    </Card>
    <Card title="Output" icon="file-export">
      `architecture.md` = `{architecture}`
    </Card>
  </Step>
  <Step title="Controller">
    Reviews architecture. Proceeds or adjusts.
  </Step>
  <Step title="Developer">
    Implements the code based on architecture.

    <Card title="Input" icon="file-import">
      `{prd}` + `{architecture}` + Controller's Instructions
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Implementation → Controller → Code review
    </Card>
    <Card title="Output" icon="file-export">
      `src/*`
    </Card>
  </Step>
  <Step title="Controller">
    Reviews implementation. Proceeds or adjusts.
  </Step>
  <Step title="Tester">
    Writes tests for the implementation. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{prd}` + `{architecture}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Test planning → Controller → Test implementation
    </Card>
    <Card title="Output" icon="file-export">
      `tests/*`
    </Card>
  </Step>
</Steps>

---

## Continuous

**Auto-advance with zero interaction. Agents run to completion.**

You provide a specification file upfront. Agents iterate on it following a well-defined pattern. No pauses, no approvals — just results.

<Accordion title="When to use" icon="check" defaultOpen>
  - The workflow pattern is proven and repeatable
  - You have a clear specification file
  - Same objective, different inputs each time
</Accordion>

**Example: Adding APIs**

<Steps>
  <Step title="Specification File">
    Define the APIs you need: endpoints, methods, schemas, validation rules.

    <Note>
      Workflows with `specification: true` won't start until this file is provided. [Learn more →](#)
    </Note>
    <Card title="Input" icon="file-import">
      `specification.md` = `{specification}`
    </Card>
  </Step>
  <Step title="API Designer">
    Designs endpoint contracts and schemas from spec.

    <Card title="Input" icon="file-import">
      `{specification}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Parse spec → Design contracts → Generate schemas
    </Card>
    <Card title="Output" icon="file-export">
      `api-design.md` = `{api_design}`
    </Card>
  </Step>
  <Step title="Developer">
    Implements the API endpoints. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{specification}` + `{api_design}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Implement endpoints → Add validation → Wire routes
    </Card>
    <Card title="Output" icon="file-export">
      `src/api/*`
    </Card>
  </Step>
  <Step title="Tester">
    Writes tests for the API. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{specification}` + `{api_design}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Test planning → Write unit tests → Write integration tests
    </Card>
    <Card title="Output" icon="file-export">
      `tests/api/*`
    </Card>
  </Step>
</Steps>

---

## Hybrid

**Mix interactive and auto-advance agents in the same workflow.**

Some steps need your input. Others run automatically. Hybrid gives you both — time effective and controllable.

This is possible because interactivity is set at the agent level, not the workflow level. Each agent decides whether to wait for you or proceed automatically.

<Accordion title="When to use" icon="check" defaultOpen>
  - Key decisions need you, routine steps don't
  - You want speed without losing control
  - Most workflows fit this pattern
</Accordion>

**Example: Bug Fix Pipeline**

<Steps>
  <Step title="Triage (Interactive)">
    Asks you about the bug: What's the issue? Which device? Steps to reproduce?

    <Card title="Input" icon="file-import">
      User Answers
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Gather symptoms → User → Reproduction steps → User → Environment details
    </Card>
    <Card title="Output" icon="file-export">
      `bug-report.md` = `{bug_report}`
    </Card>
  </Step>
  <Step title="User">
    Review bug report. Confirm details are correct.
  </Step>
  <Step title="Reproducer (Auto)">
    Reproduces the bug with gathered insights. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{bug_report}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Set up environment → Reproduce steps → Confirm bug exists
    </Card>
    <Card title="Output" icon="file-export">
      `reproduction.md` = `{reproduction}`
    </Card>
  </Step>
  <Step title="Investigator (Auto)">
    Finds root cause. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{bug_report}` + `{reproduction}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Trace execution → Identify root cause → Document findings
    </Card>
    <Card title="Output" icon="file-export">
      `investigation.md` = `{investigation}`
    </Card>
  </Step>
  <Step title="Discuss & Plan (Interactive)">
    Discusses findings with you. Plans the fix together.

    <Card title="Input" icon="file-import">
      `{bug_report}` + `{reproduction}` + `{investigation}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Present findings → User → Discuss options → User → Agree on approach
    </Card>
    <Card title="Output" icon="file-export">
      `fix-plan.md` = `{fix_plan}`
    </Card>
  </Step>
  <Step title="User">
    Review the plan. Approve or request changes.
  </Step>
  <Step title="Developer (Auto)">
    Implements the fix. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{investigation}` + `{fix_plan}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Implement fix → Self-review → Refine
    </Card>
    <Card title="Output" icon="file-export">
      `src/*`
    </Card>
  </Step>
  <Step title="Tester (Auto)">
    Writes tests for the fix. Examines codebase using tools.

    <Card title="Input" icon="file-import">
      `{bug_report}` + `{fix_plan}`
    </Card>
    <Card title="Steps (Chained Prompts)" icon="list-check">
      Write regression test → Write edge case tests → Verify fix
    </Card>
    <Card title="Output" icon="file-export">
      `tests/*`
    </Card>
  </Step>
</Steps>

---

## Choosing a Pattern

<CardGroup cols={2}>
  <Card title="Interactive" icon="hand">
    **User Involvement:** Every step

    Best for tasks needing judgment, exploration, Q&A
  </Card>
  <Card title="Autonomous" icon="robot">
    **User Involvement:** Brief controller, review results

    Best for long-running tasks, clear objectives
  </Card>
  <Card title="Continuous" icon="forward">
    **User Involvement:** None (spec upfront)

    Best for repeatable, proven workflows
  </Card>
  <Card title="Hybrid" icon="shuffle">
    **User Involvement:** Key decisions only

    Best for most real-world workflows
  </Card>
</CardGroup>

<Tip>
  Most workflows end up being **Hybrid** — you want control where it matters and speed everywhere else.
</Tip>

---

## Next Steps

<Card title="Workflow Controls" icon="sliders" href="./controls">
  Learn how to control execution at runtime
</Card>
