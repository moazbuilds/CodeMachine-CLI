<step n="ensure-loop" goal="Ensure directive is set to loop">
  <action>Read `.codemachine/memory/directive.json`</action>

  <check if="directive action is NOT 'loop'">
    <action>Write to `.codemachine/memory/directive.json`:
    ```json
    {
      "action": "loop",
      "reason": "Testing loop directive respect"
    }
    ```
    </action>
  </check>

  <check if="directive action is already 'loop'">
    <action>Proceed without changes</action>
  </check>
</step>
